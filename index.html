<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Meraki - Souvenirs uniques</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- MENU -->
<div id="menu-container"></div>

<!-- HERO -->
<main class="container">
  <section class="hero">
    <h1 id="heroTitle"></h1>
    <p class="meraki-story" id="merakiStory"></p>
    <a href="galerie.html" class="btn-portfolio" id="portfolioButton"></a>
  </section>

  <!-- CERCLES OFFRES -->
  <section class="circle-offers" id="previewOffers"></section>
</main>

<!-- FOOTER -->
<div id="footer-container"></div>

<!-- SCRIPTS -->
<script src="js/load-components.js"></script>
<script src="js/content.js"></script>

<script>
const mobileBreakpoint = 768;
let lastScroll = 0;

// Wait until header is loaded
const waitForHeader = setInterval(() => {
  const header = document.querySelector('header');
  const logo = document.querySelector('.logo img');
  const nav = document.querySelector('nav');
  const menuLinks = document.querySelectorAll('nav ul li a');

  if (header && logo && nav) {
    clearInterval(waitForHeader);

    // Mobile hide-on-scroll
    window.addEventListener('scroll', () => {
      if (window.innerWidth <= mobileBreakpoint) {
        const currentScroll = window.pageYOffset;
        if (currentScroll > lastScroll) {
          header.style.top = `-${header.offsetHeight}px`;
        } else {
          header.style.top = '0';
        }
        lastScroll = currentScroll;
      }
    });

    // Desktop hover menu
    if (window.innerWidth > mobileBreakpoint) {
      logo.addEventListener('mouseenter', () => nav.classList.add('open'));
      nav.addEventListener('mouseleave', () => nav.classList.remove('open'));
    }

    // Mobile click menu toggle
    logo.addEventListener('click', (e) => {
      if (window.innerWidth <= mobileBreakpoint) {
        e.preventDefault();
        nav.classList.toggle('open');
      }
    });

    // Close menu when clicking a link on mobile
    menuLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth <= mobileBreakpoint) nav.classList.remove('open');
      });
    });
  }
}, 50);
</script>

</body>
</html>


